<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="João Almeida">
    
    <link rel="stylesheet" type="text/css" href="../styles/style.css">
    <link rel="stylesheet" type="text/css" href="../styles/form.css">

    <link rel="shortcut icon" href="../img/favicon.png" type="image/png">
    <title>Módulo 1</title>
</head>
<body>
    <header>
        <nav id="navMenu">
        </nav>
        <div class="headerDesafios">
            <h1>Desafios módulo 01</h1>
            <h2>Introdução JavaScript</h2>
        </div>
    </header>
    <main>
        <div class="exerciseNumber">
            <h2>Exercício 01</h2>
        </div>
        <div class="grade">
            <section class="coluna">
                <h3 class="text-center">Enunciado proposto</h3>
                <p>Crie uma função que dado o objeto a seguir:</p>
                <div class="codigo"><code>
                    // TODO: adicionar espaçamento.
                    var endereco =
                    {<br />
                        rua: "Rua dos pinheiros",<br />
                        numero: 1293,<br />
                        bairro: "Centro",<br />
                        cidade: "São Paulo",<br />
                        uf: "SP"<br />
                    };
                </code></div>
                <p>Retorne o seguinte conteúdo:</p>
                <code>
                    O usuário mora em São Paulo / SP, no bairro Centro, na rua "Rua dos Pinheiros"
                    com nº 1293.
                </code>
            </section>
            <section class="coluna">
                <h3 class="text-center">Resolução</h3>
                <form method="POST">
                    <p>
                        <label for="txtEstado">Estado (UF):</label>
                        <select id="txtEstado">
                            <option value="">Estado</option>
                            <option value="PR">Paraná</option>
                            <option value="SC">Santa Catarina</option>
                            <option value="RS">Rio Grande do Sul</option>
                            <option value="SP">São Paulo</option>
                            <option value="RJ">Rio de Janeiro</option>
                            <option value="ES">Espirito Santo</option>
                        </select>
                    </p>
                    <p>
                        <label for="txtCidade">Cidade:</label>
                        <input type="text" id="txtCidade" placeholder="Cidade" />
                    </p>
                    <p>
                        <label for="txtBairro">Bairro:</label>
                        <input type="text" id="txtBairro" placeholder="Bairro" />
                    </p>
                    <p>
                        <label for="txtRua">Rua / Avenida:</label>
                        <input type="text" id="txtRua" placeholder="Rua/Avenida" />
                    </p>
                    <p>
                        <label for="txtNumero">Número:</label>
                        <input type="number" id="txtNumero" placeholder="Número" />
                    </p>
                    <button id="btnEndereco" class="btnForm" onclick="montaEndereco()">Montar endereço</button>
                </form>
                <p>
                    <span id="spanEnderecoCompleto"></span>
                </p>
            </section>
        </div>
        <div class="exerciseNumber">
            <h2>Exercício 02</h2>
        </div>
        <div class="grade">
            <section class="coluna enunciado">
                <h3 class="text-center">Enunciado proposto</h3>
                <p>Crie uma função que dado um intervalo (entre x e y) exiba todos número pares:</p>
                <div class="codigo"><code>
                    function pares(x, y) { // código aqui }<br />
                    pares(32, 321);
                </code></div>
            </section>
            <section class="coluna">
                <h3 class="text-center">Resolução</h3>
                <form method="POST">
                    <p>
                        <label for="txtInicio">Número de início:</label>
                        <input type="number" id="txtInicio" placeholder="Início" />
                    </p>
                    <p>
                        <label for="txtFim">Número final:</label>
                        <input type="number" id="txtFim" placeholder="Fim" />
                    </p>
                    <button id="btnPares" class="btnForm" onclick="pares()">Encontrar</button>
                </form>
                <p>
                    <span id="spanPares"></span>
                </p>
            </section>
        </div>
        <div class="exerciseNumber">
            <h2>Exercício 03</h2>
        </div>
        <div class="grade">
            <section class="coluna enunciado">
                <h3 class="text-center">Enunciado proposto</h3>
                <p>
                    Escreva uma função que verifique se o vetor de habilidades passado possui a
                    habilidade "Javascript" e retorna um booleano <kbd>true/false</kbd> caso exista ou não.
                </p>
                <div class="codigo"><code>
                    // TODO: adicionar espaçamento.
                    function temHabilidade(skills) {<br />
                        // código aqui<br />
                    }<br />
                    var skills = ["Javascript", "ReactJS", "React Native"];<br />
                    temHabilidade(skills); // true ou false
                </code></div>
                <p>Dica: para verificar se um vetor contém um valor, utilize o método indexO</p>
            </section>
            <section class="coluna resulucao">
                <h3 class="text-center">Resolução</h3>
                <form>
                    <p>
                        <label for="txtNewHability">Nova habilidade</label>
                        <input type="text" id="txtNewHability" placeholder="Habilidade" />
                    </p>
                    <button id="btnNewHability" class="btnForm" onclick="newHability()">Adidionar</button>
                </form>
                <p><span id="spanExists">Possui JavaScript? Não</span></p>
                <ul id="listHabilities"></ul>
            </section>
        </div>
        <div class="exerciseNumber">
            <h2>Exercício 04</h2>
        </div>
        <div class="grade">
            <section class="coluna enunciado">
                <h3 class="text-center">Enunciado proposto</h3>
                <p>Escreva uma função que dado um total de anos de estudo retorna o
                    quão experiente o usuário é:</p>
                <div class="codigo"><code>
                    function experiência(anos) { // código aqui }<br />
                    var anosEstudo = 7;<br />
                    experiência(anosEstudo);
                </code></div>
                <ul id="listNivelExperienci">
                    <li>De 0-1 ano: Iniciante</li>
                    <li>De 1-3 anos: Intermediário</li>
                    <li>De 3-6 anos: Avançado</li>
                    <li>De 7 acima: Jedi Master</li>
                </ul>
            </section>
            <section class="coluna resulucao">
                <h3 class="text-center">Resolução</h3>
                <form>
                    <p>
                        <label for="txtName">Nome:</label>
                        <input type="text" id="txtName" placeholder="Nome" aria-required="true" >
                    </p>
                    <p>
                        <label for="txtAge">Anos:</label>
                        <input type="number" id="txtAge" placeholder="Anos" aria-required="true" />
                    </p>
                    <button id="btnExperience" class="btnForm" onclick="experiencia()">Experiência</button>
                    <p><span id="spanExperience"></span></p>
                </form>
            </section>
        </div>
        <div class="exerciseNumber">
            <h2>Exercício 05</h2>
        </div>
        <div class="grade">
            <section class="coluna enunciado">
                <h3 class="text-center">Enunciado proposto</h3>
                <p>Dado o seguinte vetor de objetos:</p>
                <div class="codigo">
                    <code>
                        // TODO: adicionar espaçamento.
                        var usuarios = [<br />
                        {<br />
                            nome: "Diego",<br />
                            habilidades: ["Javascript", "ReactJS", "Redux"]<br />
                        },<br />
                        {<br />
                            nome: "Gabriel",<br />
                            habilidades: ["VueJS", "Ruby on Rails", "Elixir"]<br />
                        }];
                    </code>
                </div>
                <p>Escreva uma função que produza o seguinte resultado:</p>
                <p>O Diego possui as habilidades: Javascript, ReactJS, Redux</p>
                <p>O Gabriel possui as habilidades: VueJS, Ruby on Rails, Elixir</p>
            </section>
            <section class="coluna resulucao">
                <h3 class="text-center">Resolução</h3>
                <form method="post">
                    <p>
                        <label for="txtUser">Nome:</label>
                        <input type="text" id="txtUser" placeholder="Nome" />
                    </p>
                    <button type="button" class="btnForm" onclick="addUser()">Adicionar</button>
                    <hr>
                    <p>
                        <label for="ddlUsers">Usuários:</label>
                        <select id="ddlUsers">
                            <option value="">Usuários</option>
                        </select>
                        <input type="hidden" id="inputHiden">
                    </p>
                    <p>
                        <label for="txtHabilidade">Habilidades:</label>
                        <input type="text" id="txtHabilidade" placeholder="Habilidades" >
                    </p>
                    <span id="spanErro"></span>
                    <button type="button" class="btnForm" onclick="addHability()">Adicionar</button>
                </form>
                <hr>
                <ol type="1" id="listUsers">
                </ol>
            </section>
        </div>
    </main>
    <script src="../script/menu.js"></script>
    <script type="application/javascript">
        
        /* Exercício 01 */
        function montaEndereco() {
            event.preventDefault();
            event.stopPropagation();

            var getState = document.getElementById('txtEstado').value;
            var getCity = document.getElementById('txtCidade').value;
            var getNeighborhood = document.getElementById('txtBairro').value;
            var getStreet = document.getElementById('txtRua').value;
            var getNumber = document.getElementById('txtNumero').value;

            const spanEndereco = document.getElementById('spanEnderecoCompleto');
            if (getState == ""
                || getCity == ""
                || getNeighborhood == ""
                || getStreet == ""
                || getNumber == ""
                )
            {
                spanEndereco.innerHTML = "Preencha todos os campos!";
                spanEndereco.style.color = "red";
                return;
            }

            const address = "O usuário mora em " + getCity + " / " + getState +
                ", no bairro " + getNeighborhood + ", na rua " + getStreet
                + " nº " + getNumber;
            
            spanEndereco.innerHTML = address;
            spanEndereco.removeAttribute('style');
        };

        /* Exercício 02 */
        function pares() {
            event.preventDefault();
            event.stopPropagation();

            var x = document.getElementById('txtInicio').value;
            var y = document.getElementById('txtFim').value;
            const spanResult = document.getElementById('spanPares');

            if (x == '' || y == ''){
                spanResult.innerText = 'Preencha todos os campos!';
                spanResult.style.color = 'red';
                return;
            };

            x = parseFloat(x);
            y = parseFloat(y);

            if (x > y) {
                const z = x;
                x = y;
                y = z;
            }

            var list = [];
            while (x <= y) {
                if (x % 2 == 0)
                    list.push(x);
                
                x += 1;
            }
            
            if (list.length > 0)
                spanResult.innerText = 'Números pares: ' + list;
            else
                spanResult.innerText = 'Nenhum número par!';

            spanResult.removeAttribute('style');
        }

        /* Exercício 03 */
        var habilities = [];

        function newHability() {
            event.preventDefault();
            event.stopPropagation();

            const hability = document.getElementById('txtNewHability').value;
            if (habilities.indexOf(hability) == -1){
                habilities.push(hability);
                
                const itemList = document.createElement('li');
                itemList.innerText = hability;
                itemList.id = hability;
                
                const listHability = document.getElementById('listHabilities');
                listHability.appendChild(itemList);
            }

            const search = habilities.indexOf('JavaScript');
            
            if(search != -1){
                document.getElementById('spanExists').innerText = 'Possui JavaScript? Sim';
            } else {
                document.getElementById('spanExists').innerText = 'Possui JavaScript? Não';
            }
        }

        /* Exercício 04 */
        function experiencia() {
            event.preventDefault();
            event.stopPropagation();

            const name = document.getElementById('txtName').value;
            var age = document.getElementById('txtAge').value;
            const spanExperience = document.getElementById('spanExperience');
            
            if (age == '' || name == ''){
                spanExperience.innerText = 'Preencha todos os campos.';
                spanExperience.style.color = 'red';
                return
            }

            var experiency;
            if (age < 0) {
                spanExperience.innerText = "O número de anos precisa ser maior ou igual a 0.";
                spanExperience.style.color = 'red';                
                return;
            }
            else if (age >= 0 && age < 1)
                experiency = 'iniciante';
            else if (age >= 1 && age < 3)
                experiency = 'intermediário';
            else if (age >= 3 && age < 7)
                experiency = 'avançado';
            else
                experiency = 'Jedi Master';

            spanExperience.innerText = `O(A) ${name} é ${experiency}`;
            spanExperience.removeAttribute('style');
        }

        /* Exercício 05 */
        function addUser() {
            event.preventDefault();
            event.stopPropagation();

            var user = document.getElementById('txtUser');
            
            if (user.value == null || user.value == undefined || user.value == ''){
                alert('Preencha o campo com o nome!');
                return;
            }

            const inputHiden = document.getElementById('inputHiden');
            
            var valor = 1;
            if (inputHiden.value != '')
                valor = parseInt(inputHiden.value);

            const name = user.value;
            var newItem = `<option value="${valor}">${name}</option>`;
            
            user.value = null;
            
            const ddlUsers = document.getElementById('ddlUsers');
            ddlUsers.innerHTML += newItem;
            inputHiden.value = valor + 1;
            
            newItem = `<li value="${valor}">${name}`;
            newItem += `<ul id="ul_${valor}"></ul>`;
            newItem += '</li>';

            var listUsers = document.getElementById('listUsers');
            listUsers.innerHTML += newItem;
        }

        /* Exercício 05 */
        function addHability() {
            event.preventDefault();
            event.stopPropagation();

            const user = document.getElementById('ddlUsers');
            const hability = document.getElementById('txtHabilidade');
            const erro = document.getElementById('spanErro');

            if (user.value == null
                || user.value == ''
                || hability.value == null
                || hability.value == ''
            ){
                erro.innerText = 'Preencha todos os campos';
                return;
            }
            
            const ulUser = document.getElementById(`ul_${user.value}`);
            var habilityUser = ulUser.innerHTML;
            habilityUser += `<li>${hability.value}</li>`;

            ulUser.innerHTML = habilityUser;

            hability.value = '';
            erro.innerText = '';
        }

    </script>
</body>
</html>